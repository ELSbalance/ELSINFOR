<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è‰¾ç´¢å¾·ï½œæŠ€èƒ½ä¸­éŸ“æ–‡å°ç…§</title>

<!-- ä¸»é¡Œ CSS -->
<link id="theme-link" rel="stylesheet" href="../../css/blue_style.css">

<style>
/* =====================
   Header çµæ§‹ä¿®æ­£
===================== */
header.inner-page {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 36px 20px;
}

/* æ¨™é¡Œæ°¸é ç½®ä¸­ */
header.inner-page h1 {
  margin: 0;
  font-size: 2.2rem;
  font-weight: 800;
}

/* åˆ‡æ›ä¸»é¡ŒæŒ‰éˆ•ï¼ˆæ¨£å¼é–æ­»ï¼Œä¸åƒä¸»é¡Œï¼‰ */
#theme-toggle {
  position: absolute;
  top: 18px;
  right: 24px;

  padding: 8px 14px;
  border-radius: 999px;
  border: 2px solid #888;
  background: #fff;
  color: #333;
  font-size: 0.9rem;
  cursor: pointer;

  display: flex;
  align-items: center;
  gap: 6px;

  transition: background .2s, box-shadow .2s;
}

#theme-toggle:hover {
  background: #f5f5f5;
  box-shadow: 0 2px 6px rgba(0,0,0,.15);
}

/* =====================
   å…§å®¹å€
===================== */
main {
  max-width: 1100px;
  margin: 40px auto;
  padding: 0 20px;
}

/* è·æ¥­é¸æ“‡ */
.job-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin: 36px 0;
}

.job-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 18px;
  border-radius: 16px;
  cursor: pointer;
  background: #fff;
  border: 3px solid transparent;
  transition: transform .15s, box-shadow .15s, border-color .15s;
}

.job-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 18px rgba(0,0,0,.15);
}

.job-card.active {
  border-color: currentColor;
}

.job-name {
  font-size: 1.15rem;
  font-weight: 800;
}

.job-card img {
  width: 64px;
  height: auto;
}

/* è¡¨æ ¼ */
.skill-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 36px;
}

.skill-table th,
.skill-table td {
  border: 1px solid var(--table-border, #ccc);
  padding: 12px 14px;
}

.skill-table th {
  background: var(--table-head-bg, #e3f2fd);
}
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* ===== ä¸»é¡Œåˆ‡æ› ===== */
  const themeLink = document.getElementById("theme-link");
  const saved = localStorage.getItem("theme") || "blue";

  function applyTheme(t) {
    themeLink.href = "../../css/" + (t === "pink" ? "pink_style.css" : "blue_style.css");
    document.getElementById("theme-toggle").innerText =
      t === "pink" ? "â„ åˆ‡æ›è—èª¿" : "ğŸŒ¸ åˆ‡æ›ç²‰è‰²";
  }

  applyTheme(saved);

  document.getElementById("theme-toggle").onclick = () => {
    const next = (localStorage.getItem("theme") || "blue") === "blue" ? "pink" : "blue";
    localStorage.setItem("theme", next);
    applyTheme(next);
  };

  /* ===== è·æ¥­ ===== */
  const JOBS = [
    { key: "KE", zh: "å¸åœ‹é¨å£«", img: "../../images/Elsword_KE.png" },
    { key: "RM", zh: "ç¬¦æ–‡ä¸»å®°", img: "../../images/Elsword_RM.png" },
    { key: "IM", zh: "ä¸æ•—åŠå¸", img: "../../images/Elsword_IM.png" },
    { key: "GE", zh: "å‰µä¸–é¨å£«", img: "../../images/Elsword_GE.png" }
  ];

  const CHARACTER_COLOR = "#d32f2f";

  fetch("./Elsword.json")
    .then(r => r.json())
    .then(json => init(json.Elsword));

  function init(skillData) {
    const selector = document.getElementById("job-selector");
    const tbody = document.getElementById("skill-body");

    JOBS.forEach((job, idx) => {
      const card = document.createElement("div");
      card.className = "job-card";
      card.style.color = CHARACTER_COLOR;

      card.innerHTML = `
        <div class="job-name">${job.zh}</div>
        <img src="${job.img}">
      `;

      card.onclick = () => selectJob(job.key, card);
      selector.appendChild(card);

      if (idx === 0) selectJob(job.key, card);
    });

    function selectJob(key, card) {
      document.querySelectorAll(".job-card").forEach(c => c.classList.remove("active"));
      card.classList.add("active");

      tbody.innerHTML = "";
      skillData[key].forEach(s => {
        tbody.insertAdjacentHTML("beforeend",
          `<tr><td>${s.kor}</td><td>${s.zh}</td></tr>`
        );
      });
    }
  }
});
</script>
</head>

<body>

<header class="inner-page">
  <h1>è‰¾ç´¢å¾·ï½œæŠ€èƒ½ä¸­éŸ“æ–‡å°ç…§</h1>
  <button id="theme-toggle"></button>
</header>

<main>
  <section id="job-selector" class="job-selector"></section>

  <table class="skill-table">
    <thead>
      <tr>
        <th>éŸ“æ–‡æŠ€èƒ½å</th>
        <th>ä¸­æ–‡æŠ€èƒ½å</th>
      </tr>
    </thead>
    <tbody id="skill-body"></tbody>
  </table>
</main>

<footer class="inner-page" style="text-align:center;padding:30px;">
Â© 2025 è‰¾çˆ¾ä¹‹å…‰æ”¹ç‰ˆè³‡æ–™æ•´ç†ç«™
</footer>

</body>
</html>
