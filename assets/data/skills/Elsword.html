<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>艾索德｜技能中韓文對照</title>

<!-- 主題 CSS -->
<link id="theme-link" rel="stylesheet" href="../../css/blue_style.css">

<style>
main {
  max-width: 1100px;
  margin: 40px auto;
  padding: 0 20px;
}

/* 職業選擇區 */
.job-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin: 36px 0;
}

.job-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 18px;
  border-radius: 16px;
  cursor: pointer;
  background: #fff;
  border: 3px solid transparent;
  transition: transform .15s, box-shadow .15s, border-color .15s;
}

.job-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 18px rgba(0,0,0,.15);
}

.job-card.active {
  border-color: currentColor;
}

/* 職業名稱 */
.job-name {
  font-size: 1.15rem;
  font-weight: 800;
}

/* 職業圖片 */
.job-card img {
  width: 64px;
  height: auto;
}

/* 技能表 */
.skill-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 36px;
}

.skill-table th,
.skill-table td {
  border: 1px solid var(--table-border, #ccc);
  padding: 12px 14px;
}

.skill-table th {
  background: var(--table-head-bg, #e3f2fd);
}
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* ===== 主題切換 ===== */
  const themeLink = document.getElementById("theme-link");
  const cssPrefix = "../../css/";
  const saved = localStorage.getItem("theme") || "blue";
  themeLink.href = cssPrefix + (saved === "pink" ? "pink_style.css" : "blue_style.css");

  document.getElementById("theme-toggle").onclick = () => {
    const cur = localStorage.getItem("theme") || "blue";
    const next = cur === "blue" ? "pink" : "blue";
    localStorage.setItem("theme", next);
    themeLink.href = cssPrefix + (next === "pink" ? "pink_style.css" : "blue_style.css");
  };

  /* ===== 職業定義（圖片路徑已對齊） ===== */
  const JOBS = [
    { key: "KE", zh: "帝國騎士", img: "../../images/Elsword_KE.png" },
    { key: "RM", zh: "符文主宰", img: "../../images/Elsword_RM.png" },
    { key: "IM", zh: "不敗劍帝", img: "../../images/Elsword_IM.png" },
    { key: "GE", zh: "創世騎士", img: "../../images/Elsword_GE.png" }
  ];

  const CHARACTER_COLOR = "#d32f2f"; // 艾索德紅

  /* ===== 載入技能資料 ===== */
  fetch("./Elsword.json")
    .then(r => r.json())
    .then(json => init(json.Elsword))
    .catch(err => console.error("技能資料載入失敗", err));

  function init(skillData) {
    const selector = document.getElementById("job-selector");
    const tbody = document.getElementById("skill-body");

    JOBS.forEach((job, idx) => {
      const card = document.createElement("div");
      card.className = "job-card";
      card.style.color = CHARACTER_COLOR;

      card.innerHTML = `
        <div class="job-name">${job.zh}</div>
        <img src="${job.img}" alt="${job.zh}">
      `;

      card.onclick = () => selectJob(job.key, card);
      selector.appendChild(card);

      if (idx === 0) selectJob(job.key, card);
    });

    function selectJob(jobKey, card) {
      document.querySelectorAll(".job-card").forEach(c => c.classList.remove("active"));
      card.classList.add("active");

      tbody.innerHTML = "";
      skillData[jobKey].forEach(s => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${s.kor}</td><td>${s.zh}</td>`;
        tbody.appendChild(tr);
      });
    }
  }
});
</script>
</head>

<body>
<header class="inner-page">
  <h1>艾索德｜技能中韓文對照</h1>
  <button id="theme-toggle" style="position:absolute;top:18px;right:18px;">切換主題</button>
</header>

<main>
  <section id="job-selector" class="job-selector"></section>

  <table class="skill-table">
    <thead>
      <tr>
        <th>韓文技能名</th>
        <th>中文技能名</th>
      </tr>
    </thead>
    <tbody id="skill-body"></tbody>
  </table>
</main>

<footer class="inner-page" style="text-align:center;padding:30px;">
© 2025 艾爾之光改版資料整理站
</footer>
</body>
</html>
