<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è‰¾ç´¢å¾·ï½œæŠ€èƒ½ä¸­éŸ“æ–‡å°ç…§</title>

<!-- ä¸»é¡Œ CSSï¼ˆç”± color_switch.js æ§åˆ¶ï¼‰ -->
<link id="theme-link" rel="stylesheet" href="../../css/blue_style.css">

<!-- ä¸»é¡Œåˆ‡æ› JSï¼ˆâš ï¸ä¸€å®šè¦ç”¨é€™æ”¯ï¼‰ -->
<script defer src="../../js/color_switch.js"></script>

<style>
/* ===============================
   ç‰ˆé¢
=============================== */
main {
  max-width: 1100px;
  margin: 40px auto;
  padding: 0 20px;
}

/* ===============================
   è·æ¥­é¸æ“‡
=============================== */
.job-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin: 36px 0;
}

.job-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 18px;
  border-radius: 16px;
  cursor: pointer;
  background: #ffffffcc;
  border: 3px solid transparent;
  transition: transform .15s, box-shadow .15s, border-color .15s;
}

.job-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 18px rgba(0,0,0,.15);
}

.job-card.active {
  border-color: currentColor;
}

.job-name {
  font-size: 1.15rem;
  font-weight: 800;
}

.job-card img {
  width: 64px;
  height: auto;
}

/* ===============================
   æŠ€èƒ½è¡¨
=============================== */
.skill-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 36px;
}

.skill-table th,
.skill-table td {
  border: 1px solid var(--table-border, #ccc);
  padding: 12px 14px;
}

.skill-table th {
  background: var(--table-head-bg, #e3f2fd);
}

/* ===============================
   ä¸»é¡Œåˆ‡æ›æŒ‰éˆ•ï¼ˆä¿éšªå¯«æ³•ï¼‰
=============================== */
.theme-toggle-btn {
  all: unset;
  cursor: pointer;
  padding: 8px 16px;
  border-radius: 10px;
  border: 1.5px solid #666;
  background: rgba(255,255,255,0.9);
  font-weight: 600;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* ===============================
     è‰¾ç´¢å¾·è·æ¥­å®šç¾©
  =============================== */
  const JOBS = [
    { key: "KE", zh: "å¸åœ‹é¨å£«", img: "../../images/Elsword_KE.png" },
    { key: "RM", zh: "ç¬¦æ–‡ä¸»å®°", img: "../../images/Elsword_RM.png" },
    { key: "IM", zh: "ä¸æ•—åŠå¸", img: "../../images/Elsword_IM.png" },
    { key: "GE", zh: "å‰µä¸–é¨å£«", img: "../../images/Elsword_GE.png" }
  ];

  const CHARACTER_COLOR = "#d32f2f"; // è‰¾ç´¢å¾·ç´…è‰²

  /* ===============================
     è¼‰å…¥æŠ€èƒ½ JSON
  =============================== */
  fetch("./Elsword.json")
    .then(r => r.json())
    .then(json => init(json.Elsword))
    .catch(err => console.error("æŠ€èƒ½è³‡æ–™è¼‰å…¥å¤±æ•—", err));

  function init(skillData) {
    const selector = document.getElementById("job-selector");
    const tbody = document.getElementById("skill-body");

    JOBS.forEach((job, idx) => {
      const card = document.createElement("div");
      card.className = "job-card";
      card.style.color = CHARACTER_COLOR;

      card.innerHTML = `
        <div class="job-name">${job.zh}</div>
        <img src="${job.img}" alt="${job.zh}">
      `;

      card.onclick = () => selectJob(job.key, card);
      selector.appendChild(card);

      if (idx === 0) selectJob(job.key, card);
    });

    function selectJob(jobKey, card) {
      document.querySelectorAll(".job-card").forEach(c => c.classList.remove("active"));
      card.classList.add("active");

      tbody.innerHTML = "";
      (skillData[jobKey] || []).forEach(s => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${s.kor}</td><td>${s.zh}</td>`;
        tbody.appendChild(tr);
      });
    }
  }
});
</script>
</head>

<body>
<header class="inner-page">
  <h1>è‰¾ç´¢å¾·ï½œæŠ€èƒ½ä¸­éŸ“æ–‡å°ç…§</h1>
  <button id="theme-toggle" class="theme-toggle-btn">ğŸŒ¸ åˆ‡æ›ç²‰è‰²</button>
</header>

<main>
  <section id="job-selector" class="job-selector"></section>

  <table class="skill-table">
    <thead>
      <tr>
        <th>éŸ“æ–‡æŠ€èƒ½å</th>
        <th>ä¸­æ–‡æŠ€èƒ½å</th>
      </tr>
    </thead>
    <tbody id="skill-body"></tbody>
  </table>
</main>

<footer class="inner-page" style="text-align:center;padding:30px;">
Â© 2025 è‰¾çˆ¾ä¹‹å…‰æ”¹ç‰ˆè³‡æ–™æ•´ç†ç«™
</footer>
</body>
</html>
