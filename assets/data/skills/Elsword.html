<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>艾索德｜技能中韓文對照</title>

<link id="theme-link" rel="stylesheet" href="../assets/css/blue_style.css">

<style>
main {
  max-width: 1000px;
  margin: 40px auto;
  padding: 0 20px;
}

.job-selector {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 18px;
  margin: 30px 0;
}

.job-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 18px;
  border-radius: 14px;
  cursor: pointer;
  background: var(--table-cell-bg, #ffffffcc);
  border: 2px solid transparent;
  transition: transform .15s, box-shadow .15s, border-color .15s;
}

.job-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(0,0,0,.12);
}

.job-card.active {
  border-color: currentColor;
}

.job-name {
  font-size: 1.1rem;
  font-weight: bold;
}

.job-card img {
  width: 64px;
  height: auto;
}

.skill-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 30px;
}

.skill-table th,
.skill-table td {
  border: 1px solid var(--table-border, #ccc);
  padding: 12px;
}

.skill-table th {
  background: var(--table-head-bg, #e3f2fd);
}
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* === 主題切換（原樣保留） === */
  const themeLink = document.getElementById("theme-link");
  const cssPrefix = "../assets/css/";
  const saved = localStorage.getItem("theme") || "blue";

  themeLink.href = cssPrefix + (saved === "pink" ? "pink_style.css" : "blue_style.css");

  document.getElementById("theme-toggle").onclick = () => {
    const cur = localStorage.getItem("theme") || "blue";
    const next = cur === "blue" ? "pink" : "blue";
    localStorage.setItem("theme", next);
    themeLink.href = cssPrefix + (next === "pink" ? "pink_style.css" : "blue_style.css");
  };

  /* === 職業基本資料（對齊 JSON key） === */
  const JOB_META = {
    knight:   { zh: "騎士",     color: "#c62828", image: "../assets/images/jobs/elsword/knight.png" },
    mage:     { zh: "魔法騎士", color: "#c62828", image: "../assets/images/jobs/elsword/mage.png" },
    assassin: { zh: "刺客",     color: "#c62828", image: "../assets/images/jobs/elsword/assassin.png" },
    paladin:  { zh: "聖騎士",   color: "#c62828", image: "../assets/images/jobs/elsword/paladin.png" }
  };

  /* === 技能資料 === */
  fetch("../assets/data/skills/Elsword.json")
    .then(r => r.json())
    .then(data => init(data.aesod));

  function init(aesod) {
    const selector = document.getElementById("job-selector");
    const tbody = document.getElementById("skill-body");

    Object.keys(aesod).forEach((jobKey, idx) => {
      const meta = JOB_META[jobKey];
      const card = document.createElement("div");
      card.className = "job-card";
      card.style.color = meta.color;

      card.innerHTML = `
        <div class="job-name">${meta.zh}</div>
        <img src="${meta.image}" alt="${meta.zh}">
      `;

      card.onclick = () => {
        document.querySelectorAll(".job-card").forEach(c => c.classList.remove("active"));
        card.classList.add("active");

        tbody.innerHTML = "";
        aesod[jobKey].forEach(s => {
          const tr = document.createElement("tr");
          tr.innerHTML = `<td>${s.kor}</td><td>${s.zh}</td>`;
          tbody.appendChild(tr);
        });
      };

      selector.appendChild(card);
      if (idx === 0) card.click();
    });
  }
});
</script>
</head>

<body>
<header class="inner-page">
  <h1>艾索德｜技能中韓文對照</h1>
  <button id="theme-toggle" style="position:absolute;top:18px;right:18px;">切換主題</button>
</header>

<main>
  <section id="job-selector" class="job-selector"></section>

  <table class="skill-table">
    <thead>
      <tr>
        <th>韓文技能名</th>
        <th>中文技能名</th>
      </tr>
    </thead>
    <tbody id="skill-body"></tbody>
  </table>
</main>

<footer class="inner-page" style="text-align:center;padding:30px;">
© 2025 艾爾之光改版資料整理站
</footer>
</body>
</html>
